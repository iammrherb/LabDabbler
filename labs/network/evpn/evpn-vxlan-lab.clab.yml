name: evpn-vxlan-lab
topology:
  nodes:
    spine1:
      kind: srl
      image: ghcr.io/nokia/srlinux:latest
      startup-config: configs/spine1.cfg
    spine2:
      kind: srl
      image: ghcr.io/nokia/srlinux:latest
      startup-config: configs/spine2.cfg
    leaf1:
      kind: srl
      image: ghcr.io/nokia/srlinux:latest
      startup-config: configs/leaf1.cfg
    leaf2:
      kind: srl
      image: ghcr.io/nokia/srlinux:latest
      startup-config: configs/leaf2.cfg
    client1:
      kind: linux
      image: alpine:latest
      cmd: ash
    client2:
      kind: linux
      image: alpine:latest
      cmd: ash
  links:
    # Spine-Leaf connections
    - endpoints: ["spine1:e1-1", "leaf1:e1-1"]
    - endpoints: ["spine1:e1-2", "leaf2:e1-1"]
    - endpoints: ["spine2:e1-1", "leaf1:e1-2"]
    - endpoints: ["spine2:e1-2", "leaf2:e1-2"]
    # Client connections
    - endpoints: ["leaf1:e1-3", "client1:eth1"]
    - endpoints: ["leaf2:e1-3", "client2:eth1"]